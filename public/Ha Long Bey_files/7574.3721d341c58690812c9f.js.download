"use strict";(globalThis.webpackChunkclient=globalThis.webpackChunkclient||[]).push([[7574],{67574:(e,t,r)=>{r.d(t,{f:()=>j});var l=r(52322),n=r(26642),o=r(18530),i=r(72510),a=r(12373),u=r(5914),s=r(46953),z=r(48213),h=r(17848),G=r(33551),c=r(18811),f=r(79197),b=r(70769),g=r(85922),I=r(80134);let d=e=>{let{notifier$:t,footerRefOption$:r}=e;return e=>{let l=(0,z.zG)(e,I.UI(e=>{let[t,r,l,n]=e;return{shouldDisableInfiniteScroll:t,fetchDataParams:r,intersectionObserverRoot:l,intersectionObserverRootMarginBottom:n}})),n=(0,z.zG)(l,I.DZ(e=>{let{intersectionObserverRoot:t}=e;return t}),I.xb()),o=(0,z.zG)(l,I.UI(e=>{let{intersectionObserverRootMarginBottom:t}=e;return t??2e3}),I.xb()),i=(0,z.zG)(l,I.UI(e=>{let{fetchDataParams:t}=e;return t.page}),I.xb()),a=(0,z.zG)(I.aj([r,n,o,i]),I.wt(e=>{let[t,r,l]=e;return(0,z.zG)(t,s.g_((0,z.a9)(I.E_),e=>(0,z.zG)(I.bH(e,{...void 0!==r?{root:r}:null,rootMargin:(0,f.Ae)({top:G.ZI,right:G.ZI,bottom:G.Ei(l),left:G.ZI})}),I.hX(f.Yu))))})),u=(0,z.zG)(l,I.UI(e=>e.shouldDisableInfiniteScroll),I.xb());return(0,z.zG)(l,I.UP(I.TS((0,z.zG)(I.aj([a,u]),I.hX(e=>{let[t,r]=e;return!1===r})),t)))}},m=e=>t=>{let r=(0,z.zG)(t,I.UI(e=>{let[t,r,l]=e;return{hasFetchedAllPages:t,fetchDataParams:r,fetchDataAndBuildActions:l}})),l=(0,z.zG)(r,I.UP(e),I.EB(e=>{let{fetchDataParams:t}=e;return t.page}),I.oE(e=>{let{hasFetchedAllPages:t}=e;return!1===t}));return(0,z.zG)(l,I.Mm(r,(e,t)=>t),I.zg(e=>{let{fetchDataParams:t,fetchDataAndBuildActions:r}=e;return(0,z.zG)(r(t),g.XD(3))}))},p=e=>{let t=m((0,b.m)(d({notifier$:e.notifier$,footerRefOption$:e.footerRefOption$}),[e.shouldDisableInfiniteScroll,e.fetchDataParams,e.intersectionObserverRoot,e.intersectionObserverRootMarginBottom])),r=[e.hasFetchedAllPages,e.fetchDataParams,e.fetchDataAndBuildActions],l=(0,b.m)(t,r);(0,c.Rd)(l)},D=e=>{let{total:t,perPage:r}=e;return Math.ceil(t/r)},U=e=>{let{lastPageFetched:t,perPage:r,total:l}=e;return t>=D({total:l,perPage:r})},Z=e=>{let{lastPageFetched:t,perPage:r,orderBy:l}=e;return{page:t+1,perPage:r,...void 0!==l?{orderBy:l}:null}},x=e=>{let{feedState:t,feedItems:r,renderItems:a,getScrollFooterEl:s,...G}=e,[c,f]=(0,n.m)(e=>(0,z.zG)(e,u.DZ)),b=o.Yen(()=>Z(t),[t]),g=o.Yen(()=>U(t),[t]);return p({fetchDataParams:b,hasFetchedAllPages:g,footerRefOption$:f,...G}),(0,l.jsxs)(o.ZCY,{children:[a({items:r,hasFetchedAllPages:g,total:t.total}),(0,l.jsx)(o.ZCY,{ref:c,...(0,h.Nn)(i.gZ)}),!1===g&&s()]})},j=e=>{let{feedStateOption:t,feedItemsOption:r,getNoContentEl:n,getPlaceholderEl:o,...i}=e;return(0,z.zG)(s.gz(t,r),s.UI(e=>{let[t,r]=e;return(0,z.zG)(r,a.nI,s.g_(n,e=>(0,l.jsx)(x,{feedState:t,feedItems:e,...i})))}),s.HV(o))}}}]);